<!DOCTYPE html>
<html>
<head>
  <title>Online Chat</title>
  <style>
    body {
      background-color: black;
      font-family: cursive;
    }
    #cm {
      width: 100%;
      height: 2000px;
      background-color: rgba(50, 50, 50, 0.5);
      color: white;
      font-family: cursive;
    }
    textarea#message-textarea, button#send-button {
      position: fixed;
      bottom: 0px;
    }
    textarea#message-textarea {
      left: 0px;
      width: 95%;
      height: 5%;
      background-color: rgba(50, 50, 50, 0.5);
      color: white;
      font-size: 100%;
      font-family: cursive;
    }
    button#send-button {
      right: 0px;
      width: 5%;
      height: 5%;
      background-color: rgba(50, 50, 50, 0.5);
      color: white;
      font-family: cursive;
    }
    h1 {
      color: white;
    }
  </style>
</head>
<body>
  <header>
    <h1>Online Chat</h1>
  </header>
  <main id="chat-messages">
    <div readonly="true" id="cm"></div>
  </main>
  <footer>
    <textarea type="text" id="message-textarea" placeholder="Type your message here"></textarea>
    <button id="send-button">Send</button>
  </footer>
  <script>
    // Get references to the chat interface elements
    const chatMessages = document.getElementById('chat-messages');
    const messageTextarea = document.getElementById('message-textarea');
    const sendButton = document.getElementById('send-button');

    // Set up a WebSocket connection to the server
    const socket = new WebSocket('ws://localhost:8080');

    // When the socket connection is opened, send a "hello" message to the server
    socket.addEventListener('open', () => {
      socket.send('Hello, server!');
    });

    // When a message is received from the server, display it in the chat interface with the current time
    socket.addEventListener('message', (event) => {
      const message = event.data;
      const messageElement = document.createElement('div');
      const timestamp = new Date().toLocaleTimeString();
      messageElement.innerText = `[${timestamp}] ${message}`;
      chatMessages.appendChild(messageElement);
    });

    // Send a message to the server when the user clicks the send button
    sendButton.addEventListener('click', () => {
      const message = messageTextarea.value;
      socket.send(message);
      messageTextarea.value = '';
    });
  </script>
</body>
</html>
